# ==============================================
# Fashion Forecast Backend - Environment Variables
# ==============================================
# Copy this file to .env and fill in your values
# DO NOT commit .env to version control

# ----------------------------------------------
# ----------------------------------------------
# OpenAI Configuration
# ----------------------------------------------
# OpenAI API key (get from https://platform.openai.com/api-keys)
OPENAI_API_KEY=sk-your_api_key_here

# OpenAI model (gpt-4o-mini, gpt-4o, gpt-3.5-turbo)
OPENAI_MODEL=gpt-4o-mini


# ----------------------------------------------
# Database Configuration
# ----------------------------------------------
# SQLite database path (relative to backend/ directory)
DATABASE_URL=sqlite:///./fashion_forecast.db

# Enable SQL query logging (true for development, false for production)
DATABASE_ECHO=false

# ----------------------------------------------
# Server Configuration
# ----------------------------------------------
# Host to bind to (0.0.0.0 for all interfaces, 127.0.0.1 for localhost only)
HOST=0.0.0.0

# Port to run the server on
PORT=8000

# Enable debug mode (auto-reload, detailed errors)
DEBUG=true

# Environment name (development, staging, production)
ENVIRONMENT=development

# ----------------------------------------------
# CORS Configuration
# ----------------------------------------------
# Allowed origins (comma-separated, no spaces)
# Development: http://localhost:5173 (Vite default)
# Production: https://your-domain.com
CORS_ORIGINS=["http://localhost:5173","http://localhost:3000"]

# Allow credentials (cookies, authorization headers)
CORS_ALLOW_CREDENTIALS=true

# ----------------------------------------------
# Logging Configuration
# ----------------------------------------------
# Log level (DEBUG, INFO, WARNING, ERROR, CRITICAL)
LOG_LEVEL=INFO

# Log file path (relative to backend/ directory)
LOG_FILE=logs/fashion_forecast.log

# Enable console logging (true for development)
LOG_TO_CONSOLE=true

# Enable file logging
LOG_TO_FILE=true

# ----------------------------------------------
# Agent Configuration
# ----------------------------------------------
# Agent execution timeout in seconds (default: 300 = 5 minutes)
AGENT_TIMEOUT_SECONDS=300

# WebSocket heartbeat interval in seconds (default: 30)
WEBSOCKET_HEARTBEAT_INTERVAL=30

# Maximum retries for agent calls
MAX_AGENT_RETRIES=3

# ----------------------------------------------
# Workflow Configuration
# ----------------------------------------------
# Variance threshold for auto re-forecast (0.20 = 20%)
VARIANCE_THRESHOLD_PCT=0.20

# ----------------------------------------------
# Optional: Rate Limiting
# ----------------------------------------------
# Maximum requests per minute per IP (0 = unlimited)
RATE_LIMIT_PER_MINUTE=60

# ----------------------------------------------
# Optional: Sentry Error Tracking
# ----------------------------------------------
# Sentry DSN (leave empty to disable)
SENTRY_DSN=

# Sentry environment tag
SENTRY_ENVIRONMENT=development

# ----------------------------------------------
# Testing Configuration
# ----------------------------------------------
# Use mock responses for testing (skips Azure OpenAI calls)
USE_MOCK_LLM=false
